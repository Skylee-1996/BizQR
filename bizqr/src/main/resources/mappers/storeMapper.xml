<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ezen.bizqr.store.repository.StoreMapper">

    <insert id="storeRegister">
        insert into register
        (name, email, company, store_name, store_address, store_type, owner_num, store_num)
        values(#{name}, #{email}, #{company}, #{storeName}, #{storeAddress}, #{storeType}, #{ownerNum}, #{storeNum})
    </insert>
    <insert id="menuInsert">
        insert into menu_item
        (store_id, tab_name, menu_name, menu_price)
        values(#{storeId}, #{tabName}, #{menuName}, #{menuPrice})
    </insert>

    <select id="getDetail" resultType="ezen.bizqr.store.domain.RegisterVO">
        select * from register where register_num = #{registerNum}
    </select>

    <select id="selectEmail" resultType="ezen.bizqr.store.domain.StoreVO">
        select * from store where email = #{userEmail}
<<<<<<< HEAD
        select * from register where register_Num = #{registerNum}
=======
>>>>>>> bcbfd3b1af554e4f03e360a1dbf507f843d214b4
    </select>

    <insert id="insertStore">
        insert into store
        (email, register_num, store_name, store_address, store_number, store_type, company)
        values(#{email}, #{registerNum}, #{storeName}, #{storeAddress}, #{storeNumber}, #{storeType}, #{company})
    </insert>

    <select id="getMenuId" resultType="long">
        select max(menu_id) from menu_item
    </select>
    <select id="getDetailFromStore" resultType="ezen.bizqr.store.domain.StoreVO">
        select * from store where store_id = #{storeId}
    </select>
</mapper>